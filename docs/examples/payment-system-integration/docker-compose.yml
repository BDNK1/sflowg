version: '3.8'

services:
  # Mock Inventory Service (port 9001)
  inventory-mock:
    image: wiremock/wiremock:3.3.1
    ports:
      - "9001:8080"
    volumes:
      - ./wiremock/mappings:/home/wiremock/mappings:ro
    command:
      - --verbose
      - --global-response-templating
    networks:
      - payment-network

  # Mock Payment Provider (port 9002)
  payment-provider-mock:
    image: wiremock/wiremock:3.3.1
    ports:
      - "9002:8080"
    volumes:
      - ./wiremock/mappings:/home/wiremock/mappings:ro
    command:
      - --verbose
      - --global-response-templating
      - --port=8080
    networks:
      - payment-network

  # Mock Notification Service (port 9000)
  notification-mock:
    image: wiremock/wiremock:3.3.1
    ports:
      - "9000:8080"
    volumes:
      - ./wiremock/mappings:/home/wiremock/mappings:ro
    command:
      - --verbose
      - --global-response-templating
    networks:
      - payment-network

networks:
  payment-network:
    driver: bridge
